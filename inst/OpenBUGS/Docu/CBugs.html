<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd"><html><head><title>CBugs</title></head><body><p><font face="Arial" color="#008040" size="3">/*<img src="cbugs0.bmp" alt="[cbugs0]">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="2"><u><a href="../GNU-Licence.html">GNU&nbsp;General&nbsp;Public&nbsp;Licence</u></font><font face="Arial" color="#008040" size="3"></a><br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;This is the &quot;classic&quot; interface to BUGS with no GUI stuff for use on Linux it is not needed<br>&nbsp;&nbsp;&nbsp;for the .&quot;classic&quot; interface on Windows.<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;The bugs.so file is loaded using dlopen and its initialization code implements the command &nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;line interpreter <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;The names of commands typed at the command prompt are the same as the names in the<br>&nbsp;&nbsp;&nbsp;BUGS scipt language and of the R functions in BRugs.<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;The mappings between the command names and the Component Pascal procedures to<br>&nbsp;&nbsp;&nbsp;execute them are in the file Bugs/Rsrc/Script.txt<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;Save this file as a .c file before compiling with a C compiler.<br><br>&nbsp;&nbsp;&nbsp;Compile with gcc -o bugs cbugs.c -ldl on Linux and use the shell script <br>&nbsp;&nbsp;&nbsp;LinBUGS to provide the command line arguments.<br><br>*/<br><br></font><font face="Arial" color="#000100" size="3">#include &lt;dlfcn.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;string.h&gt;<br><br>int </font><font face="Arial" color="#804000" size="3"><strong>main </strong></font><font face="Arial" color="#000100" size="3">(int argc, char **argv)<br>{<br>&nbsp;&nbsp;&nbsp;void * handle;<br>&nbsp;&nbsp;&nbsp;if(argc != 2) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr, &quot;%s\n&quot;, &quot;error must give library name as command line parameter&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br>&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;handle = dlopen(argv[1], RTLD_LAZY);<br>&nbsp;&nbsp;&nbsp;if (!handle)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fputs(dlerror(), stderr);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;dlclose(handle);<br>&nbsp;&nbsp;&nbsp;return 0;<br>}<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="1"><br></font></p></body></html>