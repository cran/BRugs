<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd"><html><head><title>Scripts</title></head><body><p><font face="Arial" color="#000100" size="2"><img src="scripts0.bmp" alt="[scripts0]">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="6"><strong>Scripts, Batch-mode and<br>&nbsp;&nbsp;&nbsp;ClassicBUGS</strong></font><font face="Arial" color="#000100" size="2"><br><br><br></font><font face="Arial" color="#0000FF" size="2"><br></font><font face="Arial" color="#000100" size="5"><strong>The Scripting Language<br></strong></font><font face="Arial" color="#000100" size="3"><br>As an alternative to the menu/dialog box interface of </font><font face="Arial" color="#000100" size="3"><em>WinBUGS</em></font><font face="Arial" color="#000100" size="3"> a scripting language has been provided. This language can be useful for automating routine analysis. The language works in effect by writing values into fields and clicking on buttons in relevant dialog boxes. Note that it is possible to combine use of this scripting language with use of the menu/dialog box interface.<br><br>To make use of the scripting language for a specific problem, a minimum of four files are required: the script itself; a file containing the BUGS language representation of the model; a file (or several) containing the data; and for each chain a file containing initial values. Each file may be in either native </font><font face="Arial" color="#000100" size="3"><em>WinBUGS</em></font><font face="Arial" color="#000100" size="3"> format (.odc) or text format, in which case it must have a .txt extension.<br><br>Below is a list of currently implemented commands in the scripting language. Alongside each is a brief synopsis of its menu/dialog box equivalent: first we have the menu name and then the associated menu option; then, an underlined name corresponds to a button in a dialog box, whereas a name without an underline corresponds to a dialog box field set equal to the value of the quantity in italics on the other side of the = sign.<br><br>If the menu/dialog box equivalent of the specified script command would normally be greyed out, because of inappropriate timing, for example, then the script command will not execute and an error message will be produced instead.<br><br></font><font face="Arial" color="#000100" size="3"><strong>&nbsp;&nbsp;&nbsp;script command&nbsp;&nbsp;&nbsp;menu/dialog box equivalent<br></strong></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelOutput(</font><font face="Arial" color="#000100" size="3"><em>option</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Options -&gt; Display options... -&gt; output = </font><font face="Arial" color="#000100" size="3"><em>option<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em></font><font face="Arial" color="#000100" size="3">where</font><font face="Arial" color="#000100" size="3"><em> option</em></font><font face="Arial" color="#000100" size="3"> = &quot;window&quot; or &quot;log&quot;<br></font><font face="Arial" color="#000100" size="3"><em>&nbsp;&nbsp;&nbsp;modelPrecison(prec)&nbsp;&nbsp;&nbsp;</em></font><font face="Arial" color="#000100" size="3">Options -&gt; Display option...</font><font face="Arial" color="#000100" size="3"><em> </em></font><font face="Arial" color="#000100" size="3">-&gt; output precision = prec</font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;modelQuit()&nbsp;&nbsp;&nbsp;File -&gt; Exit<br>&nbsp;&nbsp;&nbsp;modelSaveLog(</font><font face="Arial" color="#000100" size="3"><em>file</em></font><font face="Arial" color="#000100" size="3">)</font><font face="Arial" color="#FF0000" size="3"><sup>1</sup></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;File -&gt; Save As... -&gt; File name: = </font><font face="Arial" color="#000100" size="3"><em>file</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>Save</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelGetRN()&nbsp;&nbsp;&nbsp;Model -&gt; RN generator... -&gt; state<br>&nbsp;&nbsp;&nbsp;modelSetRN(newSeed)&nbsp;&nbsp;&nbsp;Model -&gt; RN generator... -&gt; state = newSeed + </font><font face="Arial" color="#000100" size="3"><u>set</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;modelCheck(</font><font face="Arial" color="#000100" size="3"><em>model file</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Model -&gt; Specification... -&gt; </font><font face="Arial" color="#000100" size="3"><u>check&nbsp;model</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelData(</font><font face="Arial" color="#000100" size="3"><em>data file</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Model -&gt; Specification... -&gt; </font><font face="Arial" color="#000100" size="3"><u>load&nbsp;data</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelCompile(numC</font><font face="Arial" color="#000100" size="3"><em>hains</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Model -&gt; Specification... -&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num of chains = </font><font face="Arial" color="#000100" size="3"><em>chains</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>compile</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelInits(</font><font face="Arial" color="#000100" size="3"><em>inits file, chain</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Model -&gt; Specification... -&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for chain = </font><font face="Arial" color="#000100" size="3"><em>chain</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>load&nbsp;inits</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;modelGenInits()&nbsp;&nbsp;&nbsp;Model -&gt; Specification... -&gt; </font><font face="Arial" color="#000100" size="3"><u>gen&nbsp;inits<br></u></font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;modelUpdate(</font><font face="Arial" color="#000100" size="3"><em>iterations, thin</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Model -&gt; Update... -&gt; updates = </font><font face="Arial" color="#000100" size="3"><em>iterations</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>update</u></font><font face="Arial" color="#000100" size="3"><br><br>&nbsp;&nbsp;&nbsp;samplesSetBeg(</font><font face="Arial" color="#000100" size="3"><em>iter</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; beg = </font><font face="Arial" color="#000100" size="3"><em>iter</em></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesSetEnd(</font><font face="Arial" color="#000100" size="3"><em>iter</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; end = </font><font face="Arial" color="#000100" size="3"><em>iter</em></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesSetFirstChain(chain)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; chains =</font><font face="Arial" color="#000100" size="3"><em>chain</em></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesSetLastChain(chain)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; to = </font><font face="Arial" color="#000100" size="3"><em>chain<br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;samplesThin(</font><font face="Arial" color="#000100" size="3"><em>thin</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; thin = </font><font face="Arial" color="#000100" size="3"><em>thin</em></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesSet(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>set</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesClear(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>clear</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesStats(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>stats</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesDensity(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>density</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesAutoC(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node =</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>auto&nbsp;cor</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesTrace(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>trace</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesHistory(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>history</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesQuantiles(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>quantiles</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesBgr(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>bgr&nbsp;diag</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;samplesCoda(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">, </font><font face="Arial" color="#000100" size="3"><em>file stem</em></font><font face="Arial" color="#000100" size="3">)</font><font face="Arial" color="#FF0000" size="3"><sup>1</sup></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;Inference -&gt; Samples... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>coda</u></font><font face="Arial" color="#000100" size="3"><em><br><br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;summarySet(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Summary... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>set</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;summaryStats(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Summary... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>stats</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;summaryMean(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Summary... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>mean</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;summaryClear(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Summary... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>clear</u></font><font face="Arial" color="#000100" size="3"><em><br><br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;rankSet(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Rank... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>set</u></font><font face="Arial" color="#000100" size="3"><em><br>&nbsp;&nbsp;&nbsp;</em></font><font face="Arial" color="#000100" size="3">rankStats(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Rank... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>stats</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;rankStats(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Rank... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>histogram</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;rankClear(</font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3">)&nbsp;&nbsp;&nbsp;Inference -&gt; Rank... -&gt; node = </font><font face="Arial" color="#000100" size="3"><em>node</em></font><font face="Arial" color="#000100" size="3"> + </font><font face="Arial" color="#000100" size="3"><u>clear</u></font><font face="Arial" color="#000100" size="3"><em><br><br></em></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;dicSet()&nbsp;&nbsp;&nbsp;Inference -&gt; DIC... -&gt; </font><font face="Arial" color="#000100" size="3"><u>set</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;dicClear()&nbsp;&nbsp;&nbsp;Inference -&gt; DIC... -&gt; </font><font face="Arial" color="#000100" size="3"><u>clear</u></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;dicStats()&nbsp;&nbsp;&nbsp;Inference -&gt; DIC... -&gt; </font><font face="Arial" color="#000100" size="3"><u>stats</u></font><font face="Arial" color="#000100" size="3"><br></font><font face="Arial" color="#FF0000" size="3"><em><br></em></font><font face="Arial" color="#FF0000" size="3"><sup>1</sup></font><font face="Arial" color="#000000" size="3"> If the file ends with &quot;.txt&quot; the log window is saved to a text file (with all graphics, fonts, etc., stripped out); otherwise the log window is saved as is.<br><br>The mapping between </font><font face="Arial" color="#000100" size="3">commands in the BUGS script language and the Component Pascal procedure to execute them is in the file Bugs/Rsrc/Script.txt. There is one special command &quot;INIT()&quot; that OpenBUGS uses to initialize its startup: this command is not for the user to execute.</font><font face="Arial" color="#000000" size="3"> </font><font face="Times New Roman" color="#000100" size="3"></font><font face="Arial" color="#000000" size="3"><br></font><font face="Arial" color="#000100" size="5"><strong>Batch-mode</strong></font><font face="Arial" color="#FF0000" size="5"><em><br></em></font><font face="Arial" color="#000100" size="3"><br>The shortcut </font><font face="Arial" color="#000100" size="3"><em>BackBUGS</em></font><font face="Arial" color="#000100" size="3"> has been set up to run the commands contained in the script file <a href="../script.html"></font><font face="Arial" color="#0000FF" size="3"><u>script</u></font><font face="Arial" color="#000100" size="3"></a> (in the root directory of </font><font face="Arial" color="#000100" size="3"><em>WinBUGS</em></font><font face="Arial" color="#000100" size="3">) when it is double-clicked. Thus a </font><font face="Arial" color="#000100" size="3"><em>WinBUGS</em></font><font face="Arial" color="#000100" size="3"> session may be embedded within any software component that can execute the </font><font face="Arial" color="#000100" size="3"><em>BackBUGS</em></font><font face="Arial" color="#000100" size="3"> shortcut.<br><br></font><font face="Arial" color="#000100" size="5"><strong>ClassicBUGS<br></strong></font><font face="Arial" color="#000100" size="3"><br>A version of BUGS called ClassicBUGS is a cut down version without any graphical user interface or the ability to produce graphics. It has a command line interaface which understands the commands in the BUGS scripting language that do not involve graphics. At present ClassicBUGS is the only version of OpenBUGS that runs on Linux.<br></font></p></body></html>