<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd"><html><head><title>Developer Manual</title></head><body><p><font face="Arial" color="#000100" size="2"></font><font face="Arial" color="#000100" size="2"><img src="developer manual0.bmp" alt="[developer manual0]">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="6"><strong><sup>BUGS Developer Manual<br></sup></strong></font><font face="Arial" color="#000100" size="2"><br>&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="4">Version 2.1.1, June 2005</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;Andrew Thomas</font><font face="Arial" color="#000100" size="1"><sup>1</sup></font><font face="Arial" color="#000100" size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="2"><br>&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="1"><sup>1 </sup></font><font face="Arial" color="#000100" size="3">Dept of Mathematics &amp; Statistics,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;University of Helsinki<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helsinki<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finland</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3"><br>&nbsp;&nbsp;&nbsp;e-mail: ant@rni.helsinki.fi&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="2"><br><a id="Contents"></font><font face="Arial" color="#000100" size="5"><strong>Contents</strong></font><font face="Arial" color="#000100" size="2"></a><br><br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="#Introduction"></font><font face="Arial" color="#0000FF" size="4"><u>Introduction</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="#Compiling"></font><font face="Arial" color="#0000FF" size="4"><u>Compiling&nbsp;the&nbsp;Source&nbsp;Code</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="#Linking"></font><font face="Arial" color="#0000FF" size="4"><u>Executable&nbsp;versions</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="#Inits"></font><font face="Arial" color="#0000FF" size="4"><u>Initializing&nbsp;OpenBUGS</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="#Distributing"></font><font face="Arial" color="#0000FF" size="4"><u>Distributing&nbsp;OpenBUGS</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="../Manuals/Writing BUGS Extensions.html"></font><font face="Arial" color="#0000FF" size="4"><u>Writing&nbsp;BUGS&nbsp;Extensions</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="../Manuals/Randnum.html"></font><font face="Arial" color="#0000FF" size="4"><u>Random&nbsp;Number&nbsp;Generators</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="../Manuals/Sampling Algorithms.html"></font><font face="Arial" color="#0000FF" size="4"><u>Sampling&nbsp;Algorithms</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="4"><a href="../Manuals/Source Code.html"></font><font face="Arial" color="#0000FF" size="4"><u>OpenBUGS&nbsp;Source&nbsp;Code</u></font><font face="Arial" color="#0000FF" size="4"></a><br>&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Bugs/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Bugs&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Compare/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Compare&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Correl/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Correl&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Deviance/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Deviance&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Doodle/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Doodle&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Graph/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Graph&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Html/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Html&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Lin/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Lin&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Maps/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Maps&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Math/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Math&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Monitors/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Monitors&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Plots/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Plots&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Ranks/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Ranks&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Samples/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Samples&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Spatial/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Spatial&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Summary/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Summary&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Updater/Sys-Map.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;Updater&nbsp;subsystem</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Manuals/Miscellaneous.html"></font><font face="Arial" color="#0000FF" size="3"><u>Miscellaneous</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#0000FF" size="3"><a href="../CBugs.html"></font><font face="Arial" color="#0000FF" size="3"><u>The&nbsp;C&nbsp;Source&nbsp;Code&nbsp;for&nbsp;LinBUGS</u></font><font face="Arial" color="#0000FF" size="3"></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><a id="Introduction"></font><font face="Arial" color="#000000" size="4"><strong>Introduction</strong></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"><a href="#Contents">[top]</a><br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3">The OpenBUGS software is writen in the language Component Pascal (CP) a slight refinement of Oberon2 which is an object orientated developement of Modula2. Like Modula2 CP is a modular programming language, each module having a well defined interface. CP is a type safe garbage collected language with features in common with Java. CP software consists of a number of modules that are loaded and linked as needed at run time. The tools to develope CP software are available (free of charge) from Oberonmicrosystems at </font><font face="Arial" color="#000100" size="3"><em>www.oberon.ch. </em></font><font face="Arial" color="#000100" size="3">They are called &quot;BlackBox&quot;. The OpenBUGS software has been developed with version 1.5 Beta of the BlackBox tools. The BlackBox distribution contains a component framework of precompiled CP modules, a complete description of the CP language plus an extensive tutorial on the use of the BlackBox tools. OpenBUGS and in particular its graphical user interface WinBUGS makes heavy use of the the BlackBox component framework. The BlackBox tools are unique to Windows but CP source code can be compiled to Java Byte Code or .Net assemblies using alternative tools from GardensPoint at </font><font face="Arial" color="#000100" size="3"><em>www.citi.qut.edu.au/research/plas/projects/cp_files/index.jsp</em></font><font face="Arial" color="#000100" size="3">.<br><br>The OpenBUGS software consists of a (large) number of files organised in a set of subsystems. The current OpenBUGS software contains the following subsystems: Bugs, Compare, Correl, Deviance, Doodle, Graph, Html, Lin, Maps, Math, Monitors, Plots, Ranks, Samples, Spatial, Summary, Updater. Each subsystem usually contains five subdirectories /Mod, /Rsrc, /Code, /Sym and /Docu. The &quot;source&quot; code of OpenBUGS consists of two type of file: the CP source code in subdirectories /Mod and the resources in subdirectories /Rsrc. The resource directories contain such things as dialog boxes, menu systems, error messages and configuration files. The run time code of BUGS consists of compiled binary code files in subdirectories /Code and the same resources in subdirectories /Rsrc. The /Code subdirectory contains the compiled binary code in a form akin to dynamic link libraries called ocf files (Oberon code files) but also includes extensive meta information. The /Sym subdirectories contain the interfaces for the CP modules in machine readable form called osf (Oberon symbol files). Both the ocf and osf files are produced by the compiler from the CP source code.The interface of a module is specified in the source code using a simple mark up language. If a CP module imports another module the symbol file of the imported module is needed by the compiler. The symbol files are not needed to run the BUGS software and conversely the ocf are not needed to compile the CP source code but are needed to run the BUGS software. The /Docu of a subsystem contain software documentation. Some of the subdirectories in the OpenBUGS distribution only contain /Code and /Rsrc subdirectories. These are the libraries provided by Oberonmicrosystem. The symbol files and documentation for these libraries are included with the BlackBox tools. </font><font face="Arial" color="#000100" size="3"><strong>Oberonmicrosystems has made BlackBox available under the Lazy Cat open source license.</strong></font><font face="Arial" color="#000100" size="3"><br><br>The source code and documentation for the OpenBUGS software is in odc files (oberon document files), the native document format of BlackBox. This document format can be translated automatically into HTML or ascii. The OpenBUGS software source will be made available on the web as HTLM documents under the GNU GPL licence. OpenBUGS is able to import these HTML documents (either drag the html file icon into OpenBUGS or use the File Open menu with the file type set to html) these imported files can then be saved as odc files.<br><br>BlackBox uses the subsystem name as a prefix to the module name and uses this prefix to determine the physical location of the module in the file system. For example the module SamplesIndex has CP source code in file Index.odc in subdirectory Samples/Mod and when compiled will produce the code file Index.ocf in subdirectory Samples/Code and and the interface file Index.osf in subdirectory Samples/Sym. The documentation for the module SamplesIndex should be called Index.odc and placed in subdirectory Samples/Docu. The BlackBox developement tools use this prefix naming convention to locate relevent information.<br><br>OpenBUGS contains two types of subsystems: one type implements class hierarchies and the other procedural libraries. In general each procedural type subsystem has four levels of interface: a GUI level interface in the Cmds module, a scripting level interface in the Embed module, an interface that outputs to an abstract formatter class in the Formatter module and a Component Pascal interface in the Interface module.<br><br></font><font face="Arial" color="#0000FF" size="3"><a id="Compiling"></font><font face="Arial" color="#000000" size="4"><strong>Compiling the Source Code</strong></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"><a href="#Contents">[top]</a><br><br></font><font face="Arial" color="#000100" size="3">The BlackBox tools can be downloaded as a self extracting Windows exe file from </font><font face="Arial" color="#000100" size="3"><em>www.oberon.ch</em></font><font face="Arial" color="#000100" size="3">. This unpacks into a directory called BlackBox in Program Files. The zipped distribution of the OpenBUGS source code can be uncompressed and copied into the BlackBox directory directory by directory. To compile the complete Component Pascal source code open the </font><font face="Arial" color="#0000FF" size="3"><a href="../Manuals/Make.html"></font><font face="Arial" color="#0000FF" size="3"><u>make&nbsp;file</u></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="3"> and use the mouse to click into the round blob containing an ! mark. If the compiler detects an error in a module the compilation will stop at that module which will be opened in a window with the error marked and described. If the directory into which the compiler wishes to place a code or symbol file does not exist the user will be prompted to create the directory. Note that if you change the interface to a module your new module will not be able to work with other developers versions of OpenBUGS. The Component Pascal module loader checks the &quot;finger prints&quot; (crytographic check sums) of each module it loads against the &quot;finger prints&quot; the importing module expects and flags an error if these are inconsistant. <br><br>OpenBUGS can be run from inside the BlackBox developement enviroment. Indeed this has the advantage of making the full BlackBox debugger (DevDebug) available for diagnosing run time traps. The exact point in the source code where the problem occurs is usually detected!<br></font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3">There also a few other modules in the OpenBUGS source code. These files need to the compiled when the executable version are linked (see below)<br></font><font face="Arial" color="#0000FF" size="3"><br><a id="Linking"></font><font face="Arial" color="#000000" size="4"><strong>Executable versions</strong></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"><a href="#Contents">[top]</a><br><br></font><font face="Arial" color="#000000" size="3">The OpenBUGS software family is unusual in consisting of a large number of unlinked modules. These modules are linked at run time as required by the module link loader StdLoader. This loader is packed together with a few other service modules and possibly a special module Init into a small .exe or .dll / so file. These .exe and .dll / so files know nothing about the OpenBUGS software and are quite generic. The StdLoader module caues the body of a module called Init to be executed. If the module Init is not linked into the .exe file or the .dll / so StdLoader will load and link it. Various implementations of Init are possible giving rise to software with different functionality.<br></font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3">There are various ways of running the OpenBUGS software on computers with the Microsoft Windows operating system. winbugs.exe and bugs.exe are small Microsoft Windows program which loads code files (ocf) as needed. The bugs.exe program is run from the shortcut ClassicBUGS and has a similar interface to the old &quot;ClassicBUGS&quot; software. This shortcut sets the properties of the dos window used by the dos.exe program. A second shortcut BackBUGS runs winbugs with the file name specified on the command line, after the key word /SCRIPT, used as a source of commands in a BUGS script. This allows another program to call BUGS to do MCMC. The BackBUGS shortcut has been set up so that no window opens while BUGS runs. This can be changed by editing the shortcut so that &quot;/HEADLESS&quot; is removed from the command line.<br><br>brugs.dll is a small dynamic link library that can load ocf files as needed. The brugs dynamic link library was designed for use from within R and only loads ocf files that do not depend on Microsoft Windows. It is also possible to use the brugs dynamic link library from within a general C program. The pro</font><font face="Arial" color="#000100" size="3">cedures exported by the brugs library are specified in the module Bugs</font><font face="Arial" color="#000000" size="3">C. <br>In general the ocf files are not operating system dependent. In the make file those modules in black should be usable from Linux. We have produced a Linux ELF shared object file, bugs.so, equivalent of the bugs.exe file for running the BUGS software on the Linux platform. This bugs.so needs loading using dlopen from within a small C program. A second ELF shared object file brugs.so provides the R interface on Linux. <br><br>The R functions for interfacing to the brugs dynamic link library are in the BRugs package on CRAN. The names of these R functions are the same as in the OpenBUGS scripting language and have the same function. Both the scripting language and the R functions use metaprogramming to communicate with OpenBUGS, see the module BugsStdInterpreter for details.</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3"><br>To make the executable versions of the OpenBUGS software a linker tool is used to pack several code (ocf) files into one exe or dynamic link library (shared object file on Linux). The linker is given a list of module names (in the form subsystem prefix followed by a file name). The linker searches for the ocf file in the code subdirectory of the subsystem with the appropiate file name. Note that this ocf might correspond to a module with a name different to the name given to the linker (for example the code file found the linker finds for LinConsole --Lin/Code/Console.ocf-- corresponds to a module Console and not LinConsole)</font><font face="Arial" color="#0000FF" size="3"><br><br></font><font face="Arial" color="#000100" size="3">ClassicBUGS uses the Console module for input and output. There are two version of the the module Console one for the Windows platform and the other for the Linux platform. On Windows the Console module makes calls to the Windows API while on Linux it makes calls to the C runtime library. There are several versions of the Init module. The winbugs.exe program links at runtime with the version of the Init module found in the Code subdirectory if it exists otherwise it links with the version in System/Code subdirectory. For winbugs.exe to function correctly it must link with the latter Init module, that is the file Code/Init.ocf must not exist (the Code/Init.ocf file sets up the Windows interface for WinBUGS and also for BlackBox). The bugs.exe and bugs.so files link a version of the Init module that sets up the command line interpreter. This versions of the Init module is in Bugs/Mod/Init.odc. The source code file Init.odc in the root directory contains an empty implementation of the Init module. This empty implementation is linked into the brugs.dll and brugs.so libraries to prevent them loading the Windows interface.<br><br>To create the winbugs.exe file click in the round .blob containing an ! mark with the mouse<br></font><font face="Arial" color="#000000" size="3"><img src="developer manual1.bmp" alt="[developer manual1]">DevCompiler.CompileThis BugsConsole BugsConfig <img src="developer manual2.bmp" alt="[developer manual2]"></font><font face="Arial" color="#000100" size="3"><br></font><font face="Arial" color="#000000" size="3"><img src="developer manual3.bmp" alt="[developer manual3]">DevLinker.Link</font><font face="Arial" color="#000100" size="3"><br></font><font face="Arial" color="#000000" size="3">winbugs.exe := Kernel$ + Files HostFiles StdLoader Console<br>1 Bugslogo.ico 2 Doclogo.ico 3 SFLogo.ico 4 CFLogo.ico 5 DtyLogo.ico<br>6 folderimg.ico 7 openimg.ico 8 leafimg.ico<br>1 Move.cur 2 Copy.cur 3 Link.cur 4 Pick.cur 5 Stop.cur 6 Hand.cur 7 Table.cur <img src="developer manual4.bmp" alt="[developer manual4]"><br></font><font face="Arial" color="#000100" size="3"><br>To create the classic version bugs.exe file c</font><font face="Arial" color="#000000" size="3">lick on the round </font><font face="Arial" color="#000100" size="3">blobs below containing an ! mark.<br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000000" size="3"><img src="developer manual5.bmp" alt="[developer manual5]">DevCompiler.CompileThis BugsConsole BugsInit <img src="developer manual6.bmp" alt="[developer manual6]"></font><font face="Arial" color="#000100" size="3"><br></font><font face="Arial" color="#000000" size="3"><img src="developer manual7.bmp" alt="[developer manual7]">DevLinker.Link<br>dos bugs.exe := Kernel$+ Files HostFiles StdLoader Console Init 1 Bugslogo.ico <img src="developer manual8.bmp" alt="[developer manual8]"><br></font><font face="Arial" color="#FF0000" size="3">Finally delete the Init code file created: Code/Init.ocf. <br></font><font face="Arial" color="#FF0000" size="3"><strong>THIS IS VERY IMPORTANT BLACKBOX / WINBUGS WILL NOT START UP IF THIS FILE EXISTS!!!<br></strong></font><font face="Arial" color="#000100" size="3"><br>To create the brugs.dll file click in the round blob below containing a ! mark with the mouse. <br></font><font face="Arial" color="#000000" size="3"><img src="developer manual9.bmp" alt="[developer manual9]">DevCompiler.CompileThis BugsConsole <img src="developer manual10.bmp" alt="[developer manual10]"><br>next open the file Init.odc in the root directory and compile it (Ctl key + k key) and then click in the round blob below </font><font face="Arial" color="#000100" size="3">containing a ! mark with the mouse. </font><font face="Arial" color="#FF0000" size="3"><strong><br></strong></font><font face="Arial" color="#000000" size="3"><img src="developer manual11.bmp" alt="[developer manual11]">DevLinker.LinkDynDll </font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3">brugs.dll := Kernel$+ Meta Files HostFiles StdLoader Init Console BugsInterpreter BugsC# <img src="developer manual12.bmp" alt="[developer manual12]"></font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#FF0000" size="3">Finally delete the Init code file created: Code/Init.ocf. <br></font><font face="Arial" color="#FF0000" size="3"><strong>THIS IS VERY IMPORTANT BLACKBOX / WINBUGS WILL NOT START UP IF THIS FILE EXISTS!!!<br><br>(* <br>&nbsp;&nbsp;&nbsp;Please note I am the only person who has the ELF linker at present.<br>*)&nbsp;&nbsp;&nbsp;</strong></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000100" size="3">To create the classic version of bugs as a so file c</font><font face="Arial" color="#000000" size="3">lick on the round </font><font face="Arial" color="#000100" size="3">blobs below containing an ! mark.<br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000000" size="3"><img src="developer manual13.bmp" alt="[developer manual13]">DevCompiler.CompileThis LinConsole BugsInit <img src="developer manual14.bmp" alt="[developer manual14]"></font><font face="Arial" color="#000100" size="3"><br></font><font face="Arial" color="#000000" size="3"><img src="developer manual15.bmp" alt="[developer manual15]">DevElfLinker.LinkDynDll <br>bugs.so := LinKernel$+ Files LinHostFiles StdLoader Console Init <img src="developer manual16.bmp" alt="[developer manual16]"><br><br></font><font face="Arial" color="#FF0000" size="3">Finally delete the Init code file created: Code/Init.ocf. <br></font><font face="Arial" color="#FF0000" size="3"><strong>THIS IS VERY IMPORTANT BLACKBOX / WINBUGS WILL NOT START UP IF THIS FILE EXISTS!!!<br><br></strong></font><font face="Arial" color="#000100" size="3">The small C program to load the bugs.so on Linux is here </font><font face="Arial" color="#0000FF" size="3"><a href="../CBugs.html"></font><font face="Arial" color="#0000FF" size="3"><u>CBugs</u></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="3"> <br><br>To create an ELF version of brugs.so for Intel Linux click in the round blobs containg an ! mark with the mouse. <br></font><font face="Arial" color="#FF0000" size="3"><strong><br></strong></font><font face="Arial" color="#000000" size="3"><img src="developer manual17.bmp" alt="[developer manual17]">DevCompiler.CompileThis LinLibc LinConsole<img src="developer manual18.bmp" alt="[developer manual18]"><br>next open the file Init.odc in the root directory and compile it (Ctl key + k key) and then click in the round blob below </font><font face="Arial" color="#000100" size="3">containing a ! mark with the mouse. <br></font><font face="Arial" color="#000000" size="3"><img src="developer manual19.bmp" alt="[developer manual19]">DevElfLinker.LinkDynDll </font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3">brugs.so := LinKernel$+ Files LinHostFiles StdLoader Meta Init Console BugsInterpreter</font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#000000" size="3">BugsC#</font><font face="Arial" color="#0000FF" size="3"> </font><font face="Arial" color="#000000" size="3"><img src="developer manual20.bmp" alt="[developer manual20]"></font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#FF0000" size="3">Finally delete the Init code file created: Code/Init.ocf. <br></font><font face="Arial" color="#FF0000" size="3"><strong>THIS IS VERY IMPORTANT BLACKBOX / WINBUGS WILL NOT START UP IF THIS FILE EXISTS!!!<br></strong></font><font face="Arial" color="#0000FF" size="3"><br><br><a id="Inits"></font><font face="Arial" color="#000000" size="4"><strong>Initializing OpenBUGS</strong></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"><a href="#Contents">[top]</a><br></font><font face="Arial" color="#000000" size="3"><br>Before the OpenBUGS software runs it needs to be initialized. The winbugs.exe version of the software is initialized in module BugsConfig. The bugs.exe and bugs.so versions of the software are initialized in BugsCLI. The the brugs.dll and brugs.so versions of the OpenBUGS software </font><font face="Arial" color="#000100" size="3">export a procedure Initialize which take two string arguments to inform OpenBUGS in which directory the OpenBUGS software is installed and into which directory OpenBUGS should write files.<br></font><font face="Arial" color="#0000FF" size="3"><br><a id="Distributing"></font><font face="Arial" color="#000000" size="4"><strong>Distributing OpenBUGS</strong></font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"><a href="#Contents">[top]</a><br><br></font><font face="Arial" color="#000000" size="3">OpenBUGS </font><font face="Arial" color="#000100" size="3">consists of many seperate files in a complex directory structure. Some tools have been developed to copy the files needed for the run time, source and web version of OpenBUGS to seperate directories. These tools also translate OpenBUGS documentation from the odc format into html if appropiate and source code files into plain text files with the extension cp. These tools are in the module DevDistribute and the dialog boxes are in directory Dev/Rsrc (just use the file dialog to open the dialog box and click on the button. The OpenBUGS software uses several shortcuts / scripts, the directory paths in these files depend on where the OpenBUGS software is installed and might need editing. </font><font face="Arial" color="#0000FF" size="3"><br><br></font></p></body></html>