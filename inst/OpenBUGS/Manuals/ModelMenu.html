<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd"><html><head><title>ModelMenu</title></head><body><p><font face="Arial" color="#000100" size="2"><img src="modelmenu0.bmp" alt="[modelmenu0]"></font><font face="Arial" color="#000100" size="6"><strong>&nbsp;&nbsp;&nbsp;</strong></font><font face="Courier New" color="#000100" size="6">The Model Menu</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#0000FF" size="2"><br></font><font face="Arial" color="#000100" size="2"><a id="Contents"></font><font face="Courier New" color="#000100" size="5">Contents</font><font face="Arial" color="#000100" size="2"></a><br></font><font face="Courier New" color="#0000FF" size="3"><br>&nbsp;&nbsp;&nbsp;<a href="#GeneralProperties">General&nbsp;properties</a><br>&nbsp;&nbsp;&nbsp;<a href="#Specification">Specification...</a><br>&nbsp;&nbsp;&nbsp;<a href="#Update">Update...</a><br>&nbsp;&nbsp;&nbsp;<a href="#SaveState">Save&nbsp;State</a><br>&nbsp;&nbsp;&nbsp;<a href="#Seed">Random&nbsp;number&nbsp;generator...</a><br>&nbsp;&nbsp;&nbsp;<a href="#Script">Script</a><br>&nbsp;&nbsp;&nbsp;<a href="#Prettyprinting">Pretty&nbsp;print</a><br>&nbsp;&nbsp;&nbsp;<a href="#Latexprinting">Latex</a><br>&nbsp;&nbsp;&nbsp;<a href="#IOoptions">Input&nbsp;/&nbsp;Output&nbsp;options...</a><br>&nbsp;&nbsp;&nbsp;<a href="#Compileoptions">Compile&nbsp;options...</a><br>&nbsp;&nbsp;&nbsp;<a href="#Updateroptions">Updater&nbsp;options...</a><br>&nbsp;&nbsp;&nbsp;<a href="#Externalize">Externalize</a><br>&nbsp;&nbsp;&nbsp;<a href="#Internalize">Internalize</a><br><br></font><font face="Arial" color="#0000FF" size="4">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="2"><br><a id="GeneralProperties"></font><font face="Courier New" color="#000100" size="5">General properties</a></font><font face="Arial" color="#000100" size="2"> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]<br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3">The commands in this menu either apply to the whole statistical model or open dialog boxes. <br><br></font><font face="Arial" color="#000100" size="2"><br><a id="Specification"></font><font face="Courier New" color="#000100" size="5">Specification...</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000100" size="2"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu1.bmp" alt="[modelmenu1]"><br><br></font><font face="Arial" color="#000100" size="3"><br>This non-modal dialog box acts on the focus view.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>check model</em></strong></font><font face="Arial" color="#000100" size="3">: If the focus view contains text,</font><font face="Arial" color="#000100" size="3"><em> WinBUGS</em></font><font face="Arial" color="#000100" size="3"> assumes the model is specified in the</font><font face="Arial" color="#000100" size="3"><em> BUG</em></font><font face="Arial" color="#000100" size="3">S language. The</font><font face="Arial" color="#000100" size="3"><em> check model</em></font><font face="Arial" color="#000100" size="3"> button parses the</font><font face="Arial" color="#000100" size="3"><em> BUG</em></font><font face="Arial" color="#000100" size="3">S language description of the statistical model. If a syntax error is detected the cursor is placed where the error was found and a description of the error is</font><font face="Arial" color="#000000" size="3"> given on the status line (lower left corner of screen). If a </font><font face="Arial" color="#000100" size="3">stretch of text is highlighted the parsing starts from the first character highlighted </font><font face="Arial" color="#000100" size="3"><em>(i.e</em></font><font face="Arial" color="#000100" size="3">. highlight the word model) else parsing starts at the top of the window.<br><br>If the focus view is a </font><font face="Arial" color="#000100" size="3"><em>Doodle</em></font><font face="Arial" color="#000100" size="3"> or contains a selected</font><font face="Arial" color="#000100" size="3"><em> Doodle (i.e.</em></font><font face="Arial" color="#000100" size="3"> the Doodle has been selected and is surrounded by a hairy border</font><font face="Arial" color="#000100" size="3"><em>), WinBUG</em></font><font face="Arial" color="#000100" size="3">S assumes the model has been specified graphically. If a syntax error is detected the node where the error was found is highlighted and a description of the error is given on the status line.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>load data:</em></strong></font><font face="Arial" color="#000100" size="3"> The</font><font face="Arial" color="#000100" size="3"><em> load dat</em></font><font face="Arial" color="#000100" size="3">a button acts on the focus view; it will be greyed out unless the focus view contains text.<br><br>Data can be identified in two ways:<br><br>1) if the data is in a separate document, the window containing that document needs to be the focus view (the windows title bar will be highlighted) when the</font><font face="Arial" color="#000100" size="3"><em> load dat</em></font><font face="Arial" color="#000100" size="3">a command is used;<br>2) if the data is specified as part of a document, the first character of the data (either list if in S-Plus format, or the first array name if in rectangular format) must be highlighted and the data will be read from there on.<br><br>See </font><font face="Courier New" color="#0000FF" size="3"><a href="../Manuals/ModelSpecification.html#FormattingOfData">Formatting&nbsp;of&nbsp;data</a></font><font face="Arial" color="#0000FF" size="3"> </font><font face="Arial" color="#000100" size="3">for details of how the data should be formatted.</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000100" size="3"><br>Any syntax errors or data inconsistencies are displayed in the status line. Corrections can be made to the data without returning to th</font><font face="Arial" color="#000100" size="3"><em>e check mode</em></font><font face="Arial" color="#000100" size="3">l stage. When the data have been loaded successfully, 'Data Loaded' should appear in the status line.<br><br>The</font><font face="Arial" color="#000100" size="3"><em> load dat</em></font><font face="Arial" color="#000100" size="3">a button becomes active once a model has been successfully checked, and ceases to be active once the model has been successfully compiled.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>num of chains:</em></strong></font><font face="Arial" color="#000100" size="3"> The number of chains to be simulated can be entered into the text entry field next to the caption</font><font face="Arial" color="#000100" size="3"><em> num of chains</em></font><font face="Arial" color="#000100" size="3">. This field can be typed in after the model has been checked and before the model has been compiled. By default, one chain is simulated.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>compile:</em></strong></font><font face="Arial" color="#000100" size="3"> The</font><font face="Arial" color="#000100" size="3"><em> compil</em></font><font face="Arial" color="#000100" size="3">e button builds the data structures needed to carry out MCMC sampling. The model is checked for completeness and consistency with the data.<br><br>A node called 'deviance' is automatically created which calculates minus twice the log-likelihood at each iteration, up to a constant. This node can be used like any other node in the graphical model.<br><br>This command becomes active once the model has been successfully checked, and when the model has been successfully compiled, 'model compiled' should appear in the status line.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>load inits:</em></strong></font><font face="Arial" color="#000100" size="3"> The</font><font face="Arial" color="#000100" size="3"><em> load init</em></font><font face="Arial" color="#000100" size="3">s button acts on the focus view: it will be greyed out unless the focus view contains text. The initial values will be loaded for the chain indicated in the text entry field to the right of the caption</font><font face="Arial" color="#000100" size="3"><em> for chai</em></font><font face="Arial" color="#000100" size="3">n. The value of this text field can be edited to load initial values for any of the chains.<br><br>Initial values are specified in exactly the same way as data files. If some of the elements in an array are known (say because they are constraints in a parameterisation), those elements should be specified as missing (NA) in the initial values file.<br><br>This command becomes active once the model has been successfully compiled, and checks that initial values are in the form of an S-Plus object or rectangular array and that they are consistent with the model and any previously loaded data. Any syntax errors or inconsistencies in the initial value are displayed.<br><br>If, after loading the initial values, the model is fully initialized this will be reported by displaying the message</font><font face="Arial" color="#000100" size="3"><em> initial values loaded: model initialize</em></font><font face="Arial" color="#000100" size="3">d. Otherwise the status line will show the message</font><font face="Arial" color="#000100" size="3"><em> initial values loaded but this or another chain contain uninitialized variables</em></font><font face="Arial" color="#000100" size="3">. The second message can have several meanings:<br><br>a) If only one chain is simulated it means that the chain contains some nodes that have not been initialized yet.<br>b) If several chains are to be simulated it could mean that no initial values have been loaded for one of the chains.<br><br>In either case further initial values can be loaded, or the</font><font face="Arial" color="#000100" size="3"><em> gen init</em></font><font face="Arial" color="#000100" size="3">s button can be pressed to try and generate initial values for</font><font face="Arial" color="#000100" size="3"><em> al</em></font><font face="Arial" color="#000100" size="3">l the uninitialized nodes in</font><font face="Arial" color="#000100" size="3"><em> al</em></font><font face="Arial" color="#000100" size="3">l the simulated chains.<br><br>Generally it is recommended to load initial values for all fixed effect nodes (founder nodes with no parents) for all chains, initial values for random effects can be generated using the</font><font face="Arial" color="#000100" size="3"><em> gen init</em></font><font face="Arial" color="#000100" size="3">s button.<br><br>The</font><font face="Arial" color="#000100" size="3"><em> load init</em></font><font face="Arial" color="#000100" size="3">s button can still be executed once the MCMC sampling has been started. It will have the effect of starting the sampler out on a new trajectory. A modal warning message will appear if the command is used in this context.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="3"><strong><em><br>gen inits:</em></strong></font><font face="Arial" color="#000100" size="3"> The</font><font face="Arial" color="#000100" size="3"><em> gen init</em></font><font face="Arial" color="#000100" size="3">s button attempts to generate initial values by sampling either from the prior or from an approximation to the prior. In the case of discrete variables a check is made that a configuration of zero probability is not generated. This command will generate extreme values if any of the priors are very vague. If the command is successful the message 'initial values generated: model initialized' is displayed otherwise the message</font><font face="Arial" color="#000000" size="3"> 'could not generate initial values' is displayed</font><font face="Arial" color="#000100" size="3">.<br><br>The</font><font face="Arial" color="#000100" size="3"><em> gen init</em></font><font face="Arial" color="#000100" size="3">s button becomes active once the model has been successfully compiled, and will cease to be active once the model has been initialized.<br><br><br></font><font face="Arial" color="#000100" size="3"><strong><a id="Update"></strong></font><font face="Courier New" color="#000100" size="5">Update...</font><font face="Arial" color="#000100" size="3">.</a> </font><font face="Arial" color="#0000FF" size="3"></font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#000100" size="3"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu2.bmp" alt="[modelmenu2]"><br><br>This menu will become active once the model has been compiled and initialized, and has fields:</font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000100" size="3"><strong><em><br>updates</em></strong></font><font face="Arial" color="#000100" size="3">:</font><font face="Arial" color="#000100" size="3"><em> update</em></font><font face="Arial" color="#000100" size="3">s *</font><font face="Arial" color="#000100" size="3"><em> thi</em></font><font face="Arial" color="#000100" size="3">n MCMC updates will be carried out.</font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000100" size="3"><strong><em><br>refresh</em></strong></font><font face="Arial" color="#000100" size="3">: the number of updates divided by</font><font face="Arial" color="#000100" size="3"><em> thi</em></font><font face="Arial" color="#000100" size="3">n between redrawing the screen.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>thin</em></strong></font><font face="Arial" color="#000100" size="3">: the samples from every</font><font face="Arial" color="#000100" size="3"><em> </em></font><font face="Arial" color="#000100" size="3">k</font><font face="Arial" color="#000100" size="3"><sup>th</sup></font><font face="Arial" color="#000100" size="3"> iteration will be used for inference, where</font><font face="Arial" color="#000100" size="3"><em> </em></font><font face="Arial" color="#000100" size="3">k is the value of</font><font face="Arial" color="#000100" size="3"><em> thi</em></font><font face="Arial" color="#000100" size="3">n. Setting</font><font face="Arial" color="#000100" size="3"><em> k</em></font><font face="Arial" color="#000100" size="3"> &gt; 1 can help to reduce the autocorrelation in the sample, but there is no real advantage in thinning except to reduce storage requirements.</font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000000" size="3"><strong><em><br>update</em></strong></font><font face="Arial" color="#000000" size="3">: Click to start updating the model. Clicking on</font><font face="Arial" color="#000000" size="3"><em> updat</em></font><font face="Arial" color="#000000" size="3">e during sampling will pause the simulation after the current block of iterations, as defined by</font><font face="Arial" color="#000000" size="3"><em> refres</em></font><font face="Arial" color="#000000" size="3">h, has been completed; the number of updates required can then be changed if needed. Clicking on update again will restart the simulation. This button becomes active when the model has been successfully compiled and given initial values.<br></font><font face="Arial" color="#000000" size="3"><strong><em><br>iteration</em></strong></font><font face="Arial" color="#000000" size="3">: the total number of iterations carried out divided by thin.</font><font face="Arial" color="#FF0000" size="3"><br></font><font face="Arial" color="#000100" size="3"><strong><em><br>over relax</em></strong></font><font face="Arial" color="#000100" size="3">: click on this box (a tick will then appear) to select an over-relaxed form of MCMC (Neal, 1998) which will be executed where possible. This generates multiple samples at each iteration and then selects one that is negatively correlated with the current value. The time per iteration will be increased, but the within-chain correlations should be reduced and hence fewer iterations may be necessary. However, this method is not always effective and should be used with caution. The auto-correlation function may be used to check whether the mixing of the chain is improved.<br></font><font face="Arial" color="#000100" size="3"><strong><em><br>adapting</em></strong></font><font face="Arial" color="#000100" size="3">: This box will be ticked while the Metropolis or slice-sampling MCMC algorithm is in its initial tuning phase where some optimization parameters are tuned. </font><font face="Arial" color="#000000" size="3">The Metropolis and slice-sampling algorithms have adaptive phases of 4000 and 500 iterations respectively which will be discarded from all statistics. For details of how to change these default settings please see</font><font face="Arial" color="#0000FF" size="3"> <br><br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="5"><strong><a id="SaveState"></strong></font><font face="Courier New" color="#000100" size="5">Save State</a></font><font face="Arial" color="#000100" size="2"> </font><font face="Arial" color="#0000FF" size="3"></font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3"><br>Opens windows showing the current state of all the stochastic variables in the model, displayed in S-Plus format for each chain. These could then be used as an initial value file for future runs.</font><font face="Arial" color="#000100" size="2"><br><br><br></font><font face="Arial" color="#000100" size="5"><strong><a id="Seed"></strong></font><font face="Courier New" color="#000100" size="5">Random number generator...</font><font face="Arial" color="#000100" size="2">.</a> </font><font face="Arial" color="#0000FF" size="3"></font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#000100" size="2"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu3.bmp" alt="[modelmenu3]"><br><br></font><font face="Arial" color="#000100" size="3">Opens a non-modal dialog box containing:<br><br></font><font face="Arial" color="#000100" size="3"><strong><em>seed:</em></strong></font><font face="Arial" color="#000100" size="3"> a text entry field where the new seed of the random number generator can be typed.<br><br></font><font face="Arial" color="#000100" size="3"><strong><em>state</em></strong></font><font face="Arial" color="#000100" size="3">: the random number gererator can have an internal state described by multiple integer values. This variable tells the generator which internal state integer is to be replaced by seed.<br></font><font face="Arial" color="#000100" size="3"><em><br></em></font><font face="Arial" color="#000000" size="3"><strong><em>coverage:</em></strong></font><font face="Arial" color="#000000" size="3"> the pseudo-random number generator used by </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> generates a finite (albeit very long) sequence of distinct numbers, which would eventually be repeated if the sampler were run for a sufficiently long time. The </font><font face="Arial" color="#000000" size="3"><em>coverage</em></font><font face="Arial" color="#000000" size="3"> field shows the percentage of this sequence covered during the current </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> session.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>set:</em></strong></font><font face="Arial" color="#000000" size="3"> sets the currently selected internal state variable of the random number generator to the value entered into the seed field. The seed must be set </font><font face="Arial" color="#000000" size="3"><em>after</em></font><font face="Arial" color="#000000" size="3"> the model is checked (via 'check model' - see </font><font face="Courier New" color="#0000FF" size="3"><a href="#Specification">Specification...</font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000000" size="3">) in order for the new value to apply to the current analysis.<br></font><font face="Arial" color="#FF00FF" size="3"><br></font><font face="Arial" color="#FF00FF" size="2"><br></font><font face="Arial" color="#000100" size="2"><a id="Script"></font><font face="Courier New" color="#000100" size="5">Script</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000000" size="3">The Script command is used to run &quot;model scripts&quot; in batch-mode: if the focus-view contains a series of </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> batch-mode commands then selecting this command from the </font><font face="Arial" color="#000000" size="3"><em>Model</em></font><font face="Arial" color="#000000" size="3"> menu will cause the script to be executed. Please see </font><font face="Courier New" color="#0000FF" size="3"><a href="../Manuals/Scripts.html">Batch-mode:&nbsp;Scripts</font><font face="Arial" color="#0000FF" size="3"></a></font><font face="Arial" color="#000000" size="3"> for full details.<br><br></font><font face="Arial" color="#000000" size="2"><br></font><font face="Arial" color="#000100" size="2"><a id="Prettyprinting"></font><font face="Courier New" color="#000100" size="5">Pretty print</a> </font><font face="Arial" color="#000100" size="2"></font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br><br></font><font face="Arial" color="#000000" size="3">Opens a new window containing the </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> language code describing the currently checked model. This model can have either been specified in the </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> language or as a </font><font face="Arial" color="#000000" size="3"><em>Doodle</em></font><font face="Arial" color="#000000" size="3">. Any comments in the origonal </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> language description will be lost. The </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> langguage code will be formatted in a standardized form.<br><br>For example if the model described by this Doodle is checked the pretty print option will open a windows containing the BUGS language code below<br><img src="modelmenu4.bmp" alt="[modelmenu4]"><br><br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu5.bmp" alt="[modelmenu5]"></font><font face="Arial" color="#000000" size="3"><br><br><br></font><font face="Arial" color="#000100" size="2"><a id="Latexprinting"></font><font face="Courier New" color="#000100" size="5">Latex</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3"><br>Opens a new window containing the Latex code describing the currently checked model. This model can have either been specified in the </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> language or as a </font><font face="Arial" color="#000000" size="3"><em>Doodle</em></font><font face="Arial" color="#000000" size="3">. Any comments in the origonal </font><font face="Arial" color="#000000" size="3"><em>BUGS</em></font><font face="Arial" color="#000000" size="3"> language description will be lost. <br><br>For example if this model is checked then the latext option will produce the below latex<br><br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">model {<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">for (i in 1:K) {<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">for (j in 1:n) {<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">Y[i, j] ~ dnorm(eta[i, j], tau.C)<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">eta[i, j] &lt;- phi[i, 1] / (1 + phi[i, 2] * exp(phi[i, 3] * x[j]))<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">}<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">phi[i, 1] &lt;- exp(theta[i, 1])<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">phi[i, 2] &lt;- exp(theta[i, 2]) - 1<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">phi[i, 3] &lt;- -exp(theta[i, 3])<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">for (k in 1:3) {<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">theta[i, k] ~ dnorm(mu[k], tau[k])<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">}<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">}<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">tau.C ~ dgamma(1.0E-3, 1.0E-3)<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">sigma.C &lt;- 1 / sqrt(tau.C)<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">varC &lt;- 1 / tau.C<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">for (k in 1:3) {<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">mu[k] ~ dnorm(0, 1.0E-4)<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">tau[k] ~ dgamma(1.0E-3, 1.0E-3)<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">sigma[k] &lt;- 1 / sqrt(tau[k])<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">}<br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3">}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu6.bmp" alt="[modelmenu6]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000000" size="3">Processing the latex code gives</font><font face="Arial" color="#000100" size="2"><br><br></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="2"><img src="modelmenu7.bmp" alt="[modelmenu7]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000000" size="3"><br></font><font face="Arial" color="#000100" size="2"><a id="IOoptions"></font><font face="Courier New" color="#000100" size="5">Input / Output options...</a></font><font face="Arial" color="#000100" size="2"> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu8.bmp" alt="[modelmenu8]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>The model specification tool can either take input from the focus window when Input options is set to window or from files when Input option is set to file.<br><br></font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> will either produce output in windows if Output option is set to window or produce output in the log window if Output option is set to log.<br><br>The precision to which </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> displays output is controlled by the output precision field.<br><br><br></font><font face="Arial" color="#000100" size="2"><a id="Compileoptions"></font><font face="Courier New" color="#000100" size="5">Compile options...</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br></font><font face="Arial" color="#000000" size="3"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu9.bmp" alt="[modelmenu9]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000000" size="3"><strong><em>compile logicals</em></strong></font><font face="Arial" color="#000000" size="3">: </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> tries to write and compile new Component Pascal classes to represent logical nodes in the statistical model. This option is only valid with WinBUGS as it relies on run time linking.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>updater by method</em></strong></font><font face="Arial" color="#000000" size="3">: </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> chooses update algorithms for the model in a by method order if this box is checked otherwise updaters are choosen by order of node name.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>use chain graph</em></strong></font><font face="Arial" color="#000000" size="3">: </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> tries to rewrite random effects in terms of a chain graph.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>seperate generators</em></strong></font><font face="Arial" color="#000000" size="3">: </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> uses independent random number generators for each chain simulated. This should give the same chains as running one chain on each of multiple processors provided the processor index field has been set appropiately. The random number generator for each chain is initialized to a state labeled by the chain index.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>trap on error</em></strong></font><font face="Arial" color="#000000" size="3">: Causes </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> to trap when an error occurs. Useful option for finding difficult errors.<br><br></font><font face="Arial" color="#000000" size="3"><strong><em>processor index</em></strong></font><font face="Arial" color="#000000" size="3">: </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> initializes the chain of random numbers used in the simulation to a well defined state labelled by this integer provided that the seperate generator box is not checked.<br><br><br></font><font face="Arial" color="#000100" size="2"><a id="Updateroptions"></font><font face="Courier New" color="#000100" size="5">Updater options</a></font><font face="Arial" color="#000100" size="2"> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br><br></font><font face="Arial" color="#000000" size="3">Tabbed dialog box for controlling how </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> updates the model.<br><br>The first tab is used to influence which updater algorithms are used while the second tab is used to adjust the default parameters of the choosen algorithms.<br><br>The updater (sampler) algorithms that OpenBUGS has available are displayed in the list box underneath &quot;sampler&quot;. The radio button can be used to enable / disable the selected sampler. These radio buttons are only active when a model has not been compiled. They control which algorithms </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> will consider using when the model is compile. Once the model has been compiled it is possible to change the algoithm used for a node (or block of nodes) by typing the node in question in the text entry box underneath &quot;change updater for&quot;, selecting a new updater algorithm from the list and clicking ok.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu10.bmp" alt="[modelmenu10]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>The second tab of the dialog displays the actual updater algorithms used in sampling the compiled mode in a list. To change the default parameters of one of these updaters select it from the list and then edit the appropiate fields and click set. The new parameter values will be used until the end of the current </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS</em></font><font face="Arial" color="#000000" size="3"> session. Clicking save will make changes to the default parameters of the algorithm persistent across </font><font face="Arial" color="#000000" size="3"><em>OpenBUGS </em></font><font face="Arial" color="#000000" size="3">sessions.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu11.bmp" alt="[modelmenu11]"><br><br><br><br></font><font face="Arial" color="#000100" size="2"><a id="Externalize"></font><font face="Courier New" color="#000100" size="5">Externalize</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br><br></font><font face="Arial" color="#000000" size="3">This option writes out all the internal data structures that OpenBUGS has created for a running model to a file called restart.bug. It provides a way of &quot;saving&quot; the model for future use.<br><br><br></font><font face="Courier New" color="#000100" size="5"><a id="Internalize">Internalize</font><font face="Arial" color="#000100" size="2"></a> </font><font face="Courier New" color="#0000FF" size="3">[<a href="#Contents">top</a>]</font><font face="Arial" color="#0000FF" size="3"><br><br></font><font face="Arial" color="#000000" size="3">This option reads in all the internal data structures that OpenBUGS needs to set up a running model from a file called restart.bug. It provides a way of &quot;restarting&quot; the model for further use. This option will open a window containing a BUGS language description of the resarted model and all the tool dialogs will be restored to the state they had when the model was last running.<br><br>As an example of the Externalize / Internalize options a running version of the Rats model has been saved in the restart.bug file in this distribution of OpenBUGS. Selecting the Internalize option open a new window displaying<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu12.bmp" alt="[modelmenu12]"><br><br>While opening the Update Tool will show that the model has been updated for 2000 iteration<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu13.bmp" alt="[modelmenu13]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Similarly opening the Samples Tool will show that the variables alpha0 and sigma have been monitored<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="modelmenu14.bmp" alt="[modelmenu14]"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Statistics for alpha0 and sigma can be calculated the model can be updated for more iterations etc.<br><br>The internal data structures used by OpenBUGS can be quite large, especially if many variables are monitored for many interations of the sampler. For this reason the restart.bug file can be large. To encourage users not to save many large files the restart.bug file is always overwritten. If you want to keep this file just rename it once it has been created and then change the name back to restart.bug when you want to restart the model.<br></font></p></body></html>